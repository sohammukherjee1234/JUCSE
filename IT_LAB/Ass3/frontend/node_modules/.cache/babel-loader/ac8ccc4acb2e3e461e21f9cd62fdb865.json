{"ast":null,"code":"var _jsxFileName = \"/home/soham/Documents/7th_Sem/IT_LAB/Ass3/frontend/src/components/ChatPage.js\";\nimport React, { Component } from 'react';\nimport OthersChat from './OthersChat';\nimport MyChat from './MyChat';\nimport InputChat from './InputChat';\nimport FileUpload from './FileUpload';\nimport '../App.css';\nexport default class ChatPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillReceiveProps = nextProps => {\n      if (nextProps.messages.length !== this.state.messages.length || this.state.username !== nextProps.username) {\n        this.setState({\n          username: nextProps.username,\n          group: nextProps.group,\n          messages: nextProps.messages\n        });\n      }\n    };\n\n    this.state = {\n      username: null,\n      group: \"JU\",\n      messages: [],\n      showModal: false\n    };\n    this.getChats = this.getChats.bind(this);\n    this.handleShowModal = this.handleShowModal.bind(this);\n    this.handleModalClose = this.handleModalClose.bind(this);\n    this.handleFileUpload = this.handleFileUpload.bind(this);\n  }\n\n  getChats(element) {\n    return element.username === this.state.username ? React.createElement(MyChat, {\n      message: element,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }) : React.createElement(OthersChat, {\n      message: element,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    });\n  }\n\n  handleShowModal() {\n    this.setState({\n      showModal: true\n    });\n  }\n\n  handleModalClose() {\n    this.setState({\n      showModal: false\n    });\n  }\n\n  handleFileUpload(file, ftype) {\n    this.props.handleSend(file);\n    this.handleModalClose();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"chatpage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"chatname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.state.group === null ? \"Channel: JU\" : \"Channel: \".concat(this.state.group))), React.createElement(\"div\", {\n      className: \"main-chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, (this.state.messages || []).filter(message => {\n      return message.group === this.state.group;\n    }).reverse().map((element, index) => this.getChats(element))), React.createElement(InputChat, {\n      handleSend: this.props.handleSend,\n      handleShowModal: this.handleShowModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(FileUpload, {\n      handleSend: this.handleFileUpload,\n      showModal: this.state.showModal,\n      handleModalClose: this.handleModalClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/soham/Documents/7th_Sem/IT_LAB/Ass3/frontend/src/components/ChatPage.js"],"names":["React","Component","OthersChat","MyChat","InputChat","FileUpload","ChatPage","constructor","props","componentWillReceiveProps","nextProps","messages","length","state","username","setState","group","showModal","getChats","bind","handleShowModal","handleModalClose","handleFileUpload","element","file","ftype","handleSend","render","filter","message","reverse","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport OthersChat from './OthersChat';\nimport MyChat from './MyChat';\nimport InputChat from './InputChat';\nimport FileUpload from './FileUpload';\nimport '../App.css';\nexport default class ChatPage extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            username: null,\n            group: \"JU\",\n            messages: [],\n            showModal: false\n        };\n        this.getChats = this.getChats.bind(this);\n        this.handleShowModal = this.handleShowModal.bind(this);\n        this.handleModalClose = this.handleModalClose.bind(this);\n        this.handleFileUpload = this.handleFileUpload.bind(this);\n    }\n\n    componentWillReceiveProps = (nextProps) => {\n      if(nextProps.messages.length !== this.state.messages.length || this.state.username !== nextProps.username){\n          this.setState({\n              username: nextProps.username,\n              group: nextProps.group, \n              messages: nextProps.messages\n          })\n      }\n    };\n    \n\n    getChats(element){\n        return (\n        element.username === this.state.username ? <MyChat message={element}/> : <OthersChat message={element} />\n        );\n    }\n\n    handleShowModal(){\n        this.setState({showModal: true});\n    }\n\n    handleModalClose(){\n        this.setState({showModal: false});\n    }\n\n    handleFileUpload(file, ftype){\n        this.props.handleSend(file);\n        this.handleModalClose();\n    }\n\n    render() {\n        return (\n            <div className=\"chatpage\">\n                <div className=\"chatname\">\n                <h1>{this.state.group === null ? `Channel: JU` : `Channel: ${this.state.group}`}</h1>\n                </div>\n                <div className=\"main-chat\">\n               {(this.state.messages || [])\n                                .filter((message) => {return message.group === this.state.group})\n                                .reverse()\n                                .map((element,index) => this.getChats(element))\n               }\n               </div>\n\n               <InputChat handleSend={this.props.handleSend} \n                            handleShowModal={this.handleShowModal}/>\n                <FileUpload \n                            handleSend={this.handleFileUpload} \n                            showModal={this.state.showModal}\n                            handleModalClose = {this.handleModalClose} \n                            />\n            </div>\n\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}