{"ast":null,"code":"var _jsxFileName = \"/home/soham/Documents/7th_Sem/IT_LAB/Ass3/frontend/src/components/ChatPage.js\";\nimport React, { Component } from 'react';\nimport OthersChat from './OthersChat';\nimport MyChat from './MyChat';\nimport InputChat from './InputChat';\nimport { isEqual } from \"react-fast-compare\";\nimport '../App.css';\nexport default class ChatPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillReceiveProps = nextProps => {\n      if (nextProps.messages.length !== this.state.messages.length || this.state.username !== nextProps.username) {\n        this.setState({\n          username: nextProps.username,\n          group: nextProps.group,\n          messages: nextProps.messages\n        });\n      }\n    };\n\n    this.state = {\n      username: null,\n      group: \"JU\",\n      messages: []\n    };\n    this.getChats = this.getChats.bind(this);\n  }\n\n  getChats(element) {\n    return element.username === this.state.username ? React.createElement(MyChat, {\n      message: element,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }) : React.createElement(OthersChat, {\n      message: element,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"chatpage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"chatname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.state.group === null ? \"Channel: JU\" : \"Channel: \".concat(this.props.group))), React.createElement(\"div\", {\n      className: \"main-chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, (this.state.messages || []).filter(message => {\n      return message.group === this.state.group;\n    }).reverse().map((element, index) => this.getChats(element))), React.createElement(InputChat, {\n      handleSend: this.props.handleSend,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/soham/Documents/7th_Sem/IT_LAB/Ass3/frontend/src/components/ChatPage.js"],"names":["React","Component","OthersChat","MyChat","InputChat","isEqual","ChatPage","constructor","props","componentWillReceiveProps","nextProps","messages","length","state","username","setState","group","getChats","bind","element","render","filter","message","reverse","map","index","handleSend"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,OAAO,YAAP;AACA,eAAe,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAE5CM,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAUlBC,yBAVkB,GAUWC,SAAD,IAAe;AACzC,UAAGA,SAAS,CAACC,QAAV,CAAmBC,MAAnB,KAA8B,KAAKC,KAAL,CAAWF,QAAX,CAAoBC,MAAlD,IAA4D,KAAKC,KAAL,CAAWC,QAAX,KAAwBJ,SAAS,CAACI,QAAjG,EAA0G;AACtG,aAAKC,QAAL,CAAc;AACVD,UAAAA,QAAQ,EAAEJ,SAAS,CAACI,QADV;AAEVE,UAAAA,KAAK,EAAEN,SAAS,CAACM,KAFP;AAGVL,UAAAA,QAAQ,EAAED,SAAS,CAACC;AAHV,SAAd;AAKH;AACF,KAlBiB;;AAEd,SAAKE,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,IADD;AAETE,MAAAA,KAAK,EAAE,IAFE;AAGTL,MAAAA,QAAQ,EAAE;AAHD,KAAb;AAKA,SAAKM,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAaDD,EAAAA,QAAQ,CAACE,OAAD,EAAS;AACb,WACAA,OAAO,CAACL,QAAR,KAAqB,KAAKD,KAAL,CAAWC,QAAhC,GAA2C,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAEK,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3C,GAAyE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAEA,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADzE;AAGH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKP,KAAL,CAAWG,KAAX,KAAqB,IAArB,sCAAwD,KAAKR,KAAL,CAAWQ,KAAnE,CAAL,CADA,CADJ,EAII;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,CAAC,KAAKH,KAAL,CAAWF,QAAX,IAAuB,EAAxB,EACiBU,MADjB,CACyBC,OAAD,IAAa;AAAC,aAAOA,OAAO,CAACN,KAAR,KAAkB,KAAKH,KAAL,CAAWG,KAApC;AAA0C,KADhF,EAEiBO,OAFjB,GAGiBC,GAHjB,CAGqB,CAACL,OAAD,EAASM,KAAT,KAAmB,KAAKR,QAAL,CAAcE,OAAd,CAHxC,CADA,CAJJ,EAYG,oBAAC,SAAD;AAAW,MAAA,UAAU,EAAE,KAAKX,KAAL,CAAWkB,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZH,CADJ;AAiBH;;AA/C2C","sourcesContent":["import React, { Component } from 'react'\nimport OthersChat from './OthersChat';\nimport MyChat from './MyChat';\nimport InputChat from './InputChat';\nimport {isEqual} from \"react-fast-compare\";\nimport '../App.css';\nexport default class ChatPage extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            username: null,\n            group: \"JU\",\n            messages: []\n        };\n        this.getChats = this.getChats.bind(this);\n    }\n\n    componentWillReceiveProps = (nextProps) => {\n      if(nextProps.messages.length !== this.state.messages.length || this.state.username !== nextProps.username){\n          this.setState({\n              username: nextProps.username,\n              group: nextProps.group,\n              messages: nextProps.messages\n          })\n      }\n    };\n    \n\n    getChats(element){\n        return (\n        element.username === this.state.username ? <MyChat message={element}/> : <OthersChat message={element} />\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"chatpage\">\n                <div className=\"chatname\">\n                <h1>{this.state.group === null ? `Channel: JU` : `Channel: ${this.props.group}`}</h1>\n                </div>\n                <div className=\"main-chat\">\n               {(this.state.messages || [])\n                                .filter((message) => {return message.group === this.state.group})\n                                .reverse()\n                                .map((element,index) => this.getChats(element))\n               }\n               </div>\n\n               <InputChat handleSend={this.props.handleSend}/>\n            </div>\n\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}